webpackJsonp([0],[,,function(t,e,n){"use strict";function o(t){var e="";t&&t.location&&t.location.search&&(e=t.location.search);var n={},o=/[?&][^?&]+=[^?&]+/g,i=e.match(o);return i&&i.forEach(function(t){var e=t.substring(1).split("="),o=decodeURIComponent(e[0]),i=decodeURIComponent(e[1]);n[o]=i}),n}function i(t){return t>1e3?t=(t/1e3).toFixed(2)+"公里":t+="米",t}function s(t){var e=["前","右前","右","右后","后","左后","左","左前"];return t>=337.5||t<22.5?e[0]:t>=22.5&&t<67.5?e[1]:t>=67.5&&t<112.5?e[2]:t>=112.5&&t<157.5?e[3]:t>=157.5&&t<202.5?e[4]:t>=202.5&&t<247.5?e[5]:t>=247.5&&t<292.5?e[6]:t>=292.5&&t<337.5?e[7]:void 0}Object.defineProperty(e,"__esModule",{value:!0}),e.urlParse=o,e.formateMile=i,e.formateDirection=s},function(t,e,n){n(16);var o=n(0)(n(12),n(22),null,null);t.exports=o.exports},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),s=o(i),a=n(24),r=o(a),c=n(3),l=o(c),u=n(19),d=o(u);s.default.use(r.default),e.default=new r.default({mode:"history",routes:[{path:"/",component:l.default},{path:"/demo",component:d.default}]})},function(t,e){},,function(t,e,n){n(17);var o=n(0)(n(10),n(23),null,null);t.exports=o.exports},,,function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),s=o(i),a=n(18),r=o(a),c=n(2);e.default={data:function(){return{location:[]}},created:function(){},mounted:function(){var t=this;this.$nextTick(function(){t.getLocation()})},methods:{getLocation:function(){var t=(0,c.urlParse)(window).lat,e=(0,c.urlParse)(window).lng;this.location=[t,e]}},components:{compass:s.default,lazy:r.default}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{time:{type:Number,default:0}},data:function(){return{show:!1}},created:function(){var t=this;window.setTimeout(function(){t.show=!0},this.time)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),i=n(9);e.default={props:{location:{type:Array},initData:{type:Object}},data:function(){return{latitude:0,longitude:0,distance:100,alpha:0,currentToTargetAndPhoneAlpha:0,beta:0,gamma:0,heading:0,direction:"N",accuracy:0,show:!0,showopen:!1,showfooter:!0,showresult:!1}},created:function(){},mounted:function(){var t=this;this.$nextTick(function(){t._initCompass(),t._initDeviceOrientationEvent()})},computed:{degree:function(){return"WebkitTransform: rotate("+this.heading+"deg)"},distances:function(){return this.distance}},filters:{formateMile:function(t){return(0,o.formateMile)(t)},formateDirection:function(t){return(0,o.formateDirection)(t)}},methods:{_initCompass:function(){var t=this;if(console.log(this.location),navigator.geolocation)var e=navigator.geolocation.watchPosition(function(n){if(n){t.latitude=n.coords.latitude,t.longitude=n.coords.longitude;var o=(0,i.getCompassDirection)({latitude:n.coords.latitude,longitude:n.coords.longitude},{latitude:t.location[0],longitude:t.location[1]});t.direction=o.exact,t.heading=o.bearing,console.log(o),console.log(t.direction),console.log(t.heading),t.distance=(0,i.getDistance)({latitude:n.coords.latitude,longitude:n.coords.longitude},{latitude:t.location[0],longitude:t.location[1]}),t.distance<20&&(t.show=!1,t.showopen=!0,t.showfooter=!1,navigator.geolocation.clearWatch(e))}},function(t){console.log(t)},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})},_initDeviceOrientationEvent:function(){window.DeviceOrientationEvent&&window.addEventListener("deviceorientation",this._handleOrientation,!0)},_handleOrientation:function(t){this.currentToTargetAndPhoneAlpha=t.alpha},open:function(){this.showopen=!1,this.showresult=!0}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{innerHTML:"获取当前位置链接："}},created:function(){},mounted:function(){},computed:{},methods:{getLocation:function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(this.showPosition):this.innerHTML="Geolocation is not supported by this browser."},showPosition:function(t){this.innerHTML="https://520.wmeetu.cn/index.html?lat="+t.coords.latitude+"&lng="+t.coords.longitude}}}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}var i=n(1),s=o(i),a=n(4),r=o(a),c=n(8),l=o(c),u=n(6),d=o(u),f=n(7),_=o(f);n(5),s.default.use(l.default),s.default.use(d.default),new s.default({el:"#app",router:r.default,render:function(t){return t(_.default)}})},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){var o=n(0)(n(11),n(21),null,null);t.exports=o.exports},function(t,e,n){n(15);var o=n(0)(n(13),n(20),null,null);t.exports=o.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"compass"},[n("p",{staticClass:"font-color",staticStyle:{"font-size":".2rem"}},[t._v(t._s(t.innerHTML))]),t._v(" "),n("button",{staticClass:"font-color",staticStyle:{"font-size":".2rem"},on:{click:t.getLocation}},[t._v("点击获取")])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("div",[t._t("default")],2):t._e()},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"compass"},[n("transition",{attrs:{name:"fade"}},[t.show?n("section",{staticClass:"compass-wrap"},[n("div",{staticClass:"compass"},[n("div",{staticStyle:{"font-size":".3rem"}},[t._v(t._s(t.latitude))]),t._v(" "),n("div",{staticStyle:{"font-size":".3rem"}},[t._v(t._s(t.longitude))]),t._v(" "),n("div",{staticStyle:{"font-size":".3rem"}},[t._v(t._s(t.alpha))]),t._v(" "),n("div",{staticStyle:{"font-size":".3rem"}},[t._v(t._s(t.direction))]),t._v(" "),n("div",{staticStyle:{"font-size":".3rem"}},[t._v(t._s(t.heading))]),t._v(" "),n("i",{staticClass:"compass__pointer",style:t.degree})]),t._v(" "),n("span",{staticClass:"direction__text"},[t._v("向"+t._s(t._f("formateDirection")(t.heading))+"方"+t._s(t._f("formateMile")(t.distances)))])]):t._e()]),t._v(" "),n("transition",{attrs:{name:"fade"}},[t.showopen?n("div",{staticClass:"open-wrapper"},[n("section",{staticClass:"chest-wrap"},[n("div",{staticClass:"chest"},[n("span",{staticClass:"chest__open",on:{click:t.open}},[t._v("开启")]),t._v(" "),n("transition",[n("div",{staticClass:"chest__upper"},[n("img",{attrs:{src:"static/img/beans_up.png",alt:""}})])]),t._v(" "),n("transition",[n("div",{staticClass:"chest__lower"},[n("img",{attrs:{src:"static/img/beans_down.png",alt:""}})])]),t._v(" "),n("div",{staticClass:"chest__result"},[n("img",{attrs:{src:"static/img/final2.png",alt:""}})])],1)])]):t._e()]),t._v(" "),n("transition",{attrs:{name:"move"}},[t.showresult?n("section",{staticClass:"result-wrap"},[n("div",{staticClass:"result-show"},[n("img",{attrs:{src:"static/img/final2.png"}})])]):t._e()]),t._v(" "),n("transition",{attrs:{name:"move"}},[t.showfooter?n("footer",{staticClass:"footer-clue"},[n("div",{staticClass:"clue"},[n("img",{staticClass:"clue__img",attrs:{src:"static/img/clue.png",alt:"线索"}}),t._v(" "),n("div",{staticClass:"clue__text"},[n("p",[t._v("这是谁的衣物？")]),t._v(" "),n("p",[t._v("找到完整图案即有大奖")])])]),t._v(" "),n("p",{staticClass:"copyright"},[t._v("\n        Powered by MOYA Studio | Starbucks "),n("i",{staticClass:"starbucks-logo"})])]):t._e()]),t._v(" "),n("transition",{attrs:{name:"move"}},[t.showresult?n("footer",{staticClass:"footer-clue footer-result"},[n("div",{staticClass:"congratulation"},[n("p",[t._v("凭此页面买任意饮品邀您品尝新品 "),n("span",[t._v("嘛哩嘛哩轰")])]),t._v(" "),n("p",[t._v("活动有效期截止2017年1月25日")])]),t._v(" "),n("p",{staticClass:"copyright"},[t._v("\n        Powered by MOYA Studio | Starbucks "),n("i",{staticClass:"starbucks-logo"})])]):t._e()])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app"},[n("lazy",{attrs:{time:1e3}},[n("router-view",{attrs:{location:t.location}})],1)],1)},staticRenderFns:[]}},,,,function(t,e){}],[14]);